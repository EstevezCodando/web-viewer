<!DOCTYPE html>
<html>
<head>
  <title>Test AR #1</title>

  <!-- A-Frame -->
  <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1.6.0/dist/aframe-master.min.js"></script>

  <!-- AR.js com suporte a NFT -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

  <!-- Estilo do loading -->
  <style>
    #loading {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 1em 2em;
      border-radius: 10px;
      z-index: 10;
    }
  </style>
</head>

<body style="margin: 0; overflow: hidden;">
  <div id="loading">Carregando modelo...</div>

  <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: true;">
    <a-marker type="pattern" url="pattern-hiro.patt">
      <a-entity
        id="modelo"
        gltf-model="https://estevezcodando.github.io/web-viewer/efect.glb"
        scale="0.01 0.01 0.01"
        position="0 0 0"
      ></a-entity>
    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>

  <!-- Script para esconder o loading apÃ³s carregar -->
  <script>
    const modelo = document.querySelector('#modelo');
    const loading = document.querySelector('#loading');

    modelo.addEventListener('model-loaded', () => {
      loading.style.display = 'none';
    });

    modelo.addEventListener('model-error', () => {
      loading.innerText = 'Erro ao carregar modelo.';
      loading.style.background = 'red';
    });
  </script>
</body>
</html>
